<!DOCTYPE html>
<html>
<head>
    <title>Singapore Weather Forecast</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background: #f0f4f8;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
        }

        .weather-card {
            background: white;
            padding: 20px 30px;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            text-align: center;
            max-width: 300px;
        }

        .weather-icon {
            font-size: 50px;
            margin-bottom: 10px;
        }

        .forecast {
            font-size: 24px;
            margin-bottom: 8px;
        }

        .temperature {
            font-size: 18px;
            color: #555;
        }
    </style>
</head>
<body>

<div class="weather-card" id="weatherCard">
    <div class="weather-icon" id="weatherIcon">‚òÅÔ∏è</div>
    <div class="forecast" id="forecast">Loading...</div>
    <div class="temperature" id="temperature">-</div>
</div>

<script>
function getWeatherIcon(forecastText) {
    forecastText = forecastText.toLowerCase();
    if (forecastText.includes('rain')) return 'üåßÔ∏è';
    if (forecastText.includes('thunder')) return '‚õàÔ∏è';
    if (forecastText.includes('cloud')) return '‚òÅÔ∏è';
    if (forecastText.includes('sun') || forecastText.includes('fair')) return '‚òÄÔ∏è';
    return 'üåà'; // Default icon
}

function loadWeather() {
    fetch('https://corsproxy.io/?https://api-open.data.gov.sg/v2/real-time/api/twenty-four-hr-forecast', {
    headers: {
        'Accept': 'application/json'
    }
})
  
        .then(response => response.json())
        .then(data => {
            if (data && data.items && data.items.length > 0) {
                const forecastData = data.items[0].general;
                const forecast = forecastData.forecast;
                const temperatureLow = forecastData.temperature.low;
                const temperatureHigh = forecastData.temperature.high;

                document.getElementById('forecast').textContent = forecast;
                document.getElementById('temperature').textContent = `Temperature: ${temperatureLow}¬∞C - ${temperatureHigh}¬∞C`;
                document.getElementById('weatherIcon').textContent = getWeatherIcon(forecast);
            } else {
                document.getElementById('forecast').textContent = "No data available.";
                document.getElementById('temperature').textContent = "-";
            }
        })
        .catch(error => {
            console.error('Error fetching weather:', error);
            document.getElementById('forecast').textContent = "Failed to load.";
            document.getElementById('temperature').textContent = "-";
        });
}

loadWeather();
</script>

</body>
</html>
